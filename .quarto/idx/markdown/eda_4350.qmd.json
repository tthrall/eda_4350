{"title":"Exploratory Data Analysis","markdown":{"yaml":{"title":"Exploratory Data Analysis","subtitle":"Part 1 of Data Mining Intro","author":[{"name":"Send comments to: Tony T (tthral)"}],"date":"`r format(Sys.time(), '%Y-%m-%d %H:%M', usetz = TRUE)`","output":{"html_document":{"toc":true,"df_print":"paged","mathjax":"default"},"word_document":{"toc":true,"df_print":"tibble"},"pdf_document":{"toc":true,"df_print":"tibble"}},"abstract":"Review concepts and techniques of exploratory data analysis."},"headingText":"source(here(\"code\", \"xxx.R\"))","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(\n  echo    = FALSE, \n  error   = FALSE, \n  message = FALSE, \n  warning = FALSE\n)\n```\n\n```{r libraries}\nlibrary(assertthat)\nlibrary(here)\nlibrary(latex2exp)\nlibrary(tidyverse)\nlibrary(tinytex)\nlibrary(UsingR)\n\n```\n\n```{r local_source}\n\n```\n\n------------------------------------------------------------------------\n\n## Heights of Fathers and Sons\n\nIn 1885 Sir Francis Galton examined the heights of parents and their children to determine the strength of evidence to support height as a hereditary trait. Galton's subsequent protege, Karl Pearson (who went on in 1911 to form the world's first statistics department at University College London) followed up with an analysis of the heights of fathers and sons.\n\n```{r father_son_ht}\nfather_son_ht <- UsingR::father.son |> as_tibble() |> rename(father = fheight, son = sheight)\n```\n\n```{r g_father_son_ht}\ng_father_son_ht <- father_son_ht |> ggplot(mapping = aes(x = father, y = son)) + geom_point()\n\ng_father_son_ht\n```\n\nThe scatter diagram above shows a density of points (father-son heights) in the middle range, which obscures individual points. Here is another view of the same data, obtained by grouping father heights into successive intervals (each one labeled by its mid-point) and then constructing a box-plot of sons' heights within each interval.\n\n```{r f_mpt}\n# f_ivl: successive 2-inch intervals of father heights\n# f_mpt: mid-point of each interval\nfather_son_ht <- father_son_ht |> \n  mutate(\n    f_ivl = cut(father, seq(58, 76, 2)), \n    f_mpt = (2 * ceiling(father/2)) - 1\n  )\n```\n\n```{r g_f_mpt}\ng_f_mpt <- father_son_ht |> \n  filter(! is.na(f_mpt)) |> \n  ggplot(mapping = aes(\n    x = f_mpt |> as_factor(), y = son\n  )) + \n  geom_boxplot()\ng_f_mpt\n```\n\n```{r son_per_f_mpt}\nson_per_f_mpt <- father_son_ht |>    \n  group_by(f_ivl, f_mpt) |>    \n  summarise(     \n    s_count = n(),      \n    s_min   = min(son, na.rm = TRUE),      \n    s_max   = max(son, na.rm = TRUE),      \n    s_avg   = mean(son, na.rm = TRUE)   ) \nson_per_f_mpt\n```\n\nGalton noted that in general sons were taller than fathers, with extremely tall or short fathers corresponding to not quite so extremely tall or short sons, respectively. This observation led Galton to coin the term \"regression toward mediocrity\", or (more politely) \"regression toward the mean\".\n\n## Class Exercise: Diamond Data\n\nTeam up with a classmate and load the diamond data provided by R package ggplot2. How many rows of data are there? How many columns? What questions occur to you about the data? How might you address those questions? Take 15 minutes to prepare to report out to the class.\n\n```{r diamonds}\n# make your own copy of the diamond data\ndiamonds <- ggplot2::diamonds\n\n```\n\n## Class Exercise: General Social Survey Data\n\nThe the [General Social Survey](https://gss.norc.org/) is a long-running US survey conducted by the independent research organization NORC at the University of Chicago. The survey consists of thousands of questions designed to monitor changes in social characteristics and attitudes in the US. In R package forcats, Hadley Wickham formed the data set gss_cat consisting of just a few columns to illustrate the challenges one encounters when working with categorical (non-numeric) variables (\"factors\").\n\nTeam up with a classmate and load the gss_cat data-set provided by R package forcats. How many rows of data are there? How many columns? What questions occur to you about the data? How might you address those questions? Take 15 minutes to prepare to report out to the class.\n\n```{r gss_cat}\n# make your own copy of the survey data \ngss_cat <- forcats::gss_cat\n\n```\n\n## Discussion: what should EDA mean?\n\nExploratory Data Analysis (EDA) is an approach to data analysis advocated by [John Tukey](https://en.wikipedia.org/wiki/John_Tukey), a leading American statistician of the 20th century. The approach contrasts with what Tukey called \"confirmatory analysis\", that is, a focus on probability models of data-generation along with the estimation or testing of model parameters. The difference is one of emphasis: EDA includes models suggested by data, but always with an emphasis on understanding current and potential data sets.\n\nThe exploration is led by one's questions about the data. Relevant questions may or may not be obvious (or given). Variables may or may not be readily categorized as \"response variables\" versus \"predictor variables\". The ability to develop and recognize relevant questions is an important skill largely gained through experience.\n\nImportant EDA outcomes include the discovery of departures from prevailing assumptions, and proposals for new experiments or observations in order to examine tentative answers suggested by the current data.\n\nEDA methods are used within the context of confirmatory analysis to examine the data for errors not encompassed by the models under study (e.g., errors in data transcription or transmission), or to search for other departures from model assumptions.\n\nEDA methods can be broadly understood as the methods of descriptive statistics: data summaries (graphical or tabular) intended to enhance our understanding of the data. EDA differs from descriptive statistics in a reliance on the questions of the data analyst and a readiness to examine various transformations of the data.\n\nAs an example, here are some ways we might address the question of how, if at all, the heights of fathers and sons differ in the data presented above.\n\n```{r height_per_fs}\n# render \"father\" and \"son\" as levels of factor \"fs\"\nheight_per_fs <- father_son_ht |> \n  # continue to identify father-son pairs\n  mutate(idx = 1:nrow(father_son_ht)) |>\n  dplyr::select(idx, father, son) |> \n  pivot_longer(\n    cols = c(father, son), \n    names_to = \"fs\", \n    values_to = \"height\"\n  )\n```\n\n```{r g_ht_per_fs}\ng_ht_per_fs <- height_per_fs |> \n  ggplot(mapping = aes(x = fs |> as_factor(), y = height)) + \n  geom_boxplot()\ng_ht_per_fs\n```\n\n```{r ht_per_fs__summarise}\nheight_per_fs |> dplyr::select(fs, height) |>\n  group_by(fs) |> \n  summarise(\n    min = min(height), \n    mid = median(height), \n    avg = mean(height), \n    max = max(height)\n  )\n\n```\n\nThe box-plot and table above show that, on average, sons are about an inch taller than fathers. Here's a histogram of the difference in heights (son minus father) across father-son pairs.\n\n```{r s_minus_f}\nfather_son_ht <- father_son_ht |> \n  mutate(s_minus_f = son - father)\n```\n\n```{r s_minus_f__hist}\ng_s_minus_f <- father_son_ht |> \n  ggplot(mapping = aes(x = s_minus_f)) + \n  geom_histogram()\ng_s_minus_f\n```\n\n```{r s_minus_f__smy}\nfather_son_ht$s_minus_f |> summary()\n```\n\nThe summary of individual differences in height (son minus father) strengthens the previous aggregate summaries: the distribution of son's height minus father's height is fairly symmetric around a difference of about one inch.\n\n## Team Exercises\n\n1.  Response versus predictor variables: for each of the data sets presented above, propose one or more variables as response variables. How, if at all, might someone else argue for a different choice? What should we mean by \"response\" and \"predictor\" variables? Describe a situation in which this distinction would not be suitable.\n\n2.  Diamond data: propose a question for the diamond data, and then try to address that question. What (if anything) did you learn from this task?\n\n3.  Survey data: propose a question for the gss_cat data, and then try to address that question. What (if anything) did you learn from this task?\n\n## Resources\n\n[simpleR](https://github.com/buruzaemon/simpleR) Using R for Introductory Statistics.\\\nBy [John Verzani](https://www.math.csi.cuny.edu/~verzani/) Department of Mathematics at CSI\n\n[R for Data Science (2e)](https://r4ds.hadley.nz/), by [Hadley Wickham](https://hadley.nz/)\n\nRPubs - [Diamonds Dataset](https://rpubs.com/Davo2812/1102821)\n\nNORC's General Social Survey ([GSS](https://gss.norc.org/us/en/gss/about-the-gss.html))\n\n[EDA](https://en.wikipedia.org/wiki/Exploratory_data_analysis): Exploratory data analysis - Wikipedia\n","srcMarkdownNoYaml":"\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(\n  echo    = FALSE, \n  error   = FALSE, \n  message = FALSE, \n  warning = FALSE\n)\n```\n\n```{r libraries}\nlibrary(assertthat)\nlibrary(here)\nlibrary(latex2exp)\nlibrary(tidyverse)\nlibrary(tinytex)\nlibrary(UsingR)\n\n```\n\n```{r local_source}\n# source(here(\"code\", \"xxx.R\"))\n\n```\n\n------------------------------------------------------------------------\n\n## Heights of Fathers and Sons\n\nIn 1885 Sir Francis Galton examined the heights of parents and their children to determine the strength of evidence to support height as a hereditary trait. Galton's subsequent protege, Karl Pearson (who went on in 1911 to form the world's first statistics department at University College London) followed up with an analysis of the heights of fathers and sons.\n\n```{r father_son_ht}\nfather_son_ht <- UsingR::father.son |> as_tibble() |> rename(father = fheight, son = sheight)\n```\n\n```{r g_father_son_ht}\ng_father_son_ht <- father_son_ht |> ggplot(mapping = aes(x = father, y = son)) + geom_point()\n\ng_father_son_ht\n```\n\nThe scatter diagram above shows a density of points (father-son heights) in the middle range, which obscures individual points. Here is another view of the same data, obtained by grouping father heights into successive intervals (each one labeled by its mid-point) and then constructing a box-plot of sons' heights within each interval.\n\n```{r f_mpt}\n# f_ivl: successive 2-inch intervals of father heights\n# f_mpt: mid-point of each interval\nfather_son_ht <- father_son_ht |> \n  mutate(\n    f_ivl = cut(father, seq(58, 76, 2)), \n    f_mpt = (2 * ceiling(father/2)) - 1\n  )\n```\n\n```{r g_f_mpt}\ng_f_mpt <- father_son_ht |> \n  filter(! is.na(f_mpt)) |> \n  ggplot(mapping = aes(\n    x = f_mpt |> as_factor(), y = son\n  )) + \n  geom_boxplot()\ng_f_mpt\n```\n\n```{r son_per_f_mpt}\nson_per_f_mpt <- father_son_ht |>    \n  group_by(f_ivl, f_mpt) |>    \n  summarise(     \n    s_count = n(),      \n    s_min   = min(son, na.rm = TRUE),      \n    s_max   = max(son, na.rm = TRUE),      \n    s_avg   = mean(son, na.rm = TRUE)   ) \nson_per_f_mpt\n```\n\nGalton noted that in general sons were taller than fathers, with extremely tall or short fathers corresponding to not quite so extremely tall or short sons, respectively. This observation led Galton to coin the term \"regression toward mediocrity\", or (more politely) \"regression toward the mean\".\n\n## Class Exercise: Diamond Data\n\nTeam up with a classmate and load the diamond data provided by R package ggplot2. How many rows of data are there? How many columns? What questions occur to you about the data? How might you address those questions? Take 15 minutes to prepare to report out to the class.\n\n```{r diamonds}\n# make your own copy of the diamond data\ndiamonds <- ggplot2::diamonds\n\n```\n\n## Class Exercise: General Social Survey Data\n\nThe the [General Social Survey](https://gss.norc.org/) is a long-running US survey conducted by the independent research organization NORC at the University of Chicago. The survey consists of thousands of questions designed to monitor changes in social characteristics and attitudes in the US. In R package forcats, Hadley Wickham formed the data set gss_cat consisting of just a few columns to illustrate the challenges one encounters when working with categorical (non-numeric) variables (\"factors\").\n\nTeam up with a classmate and load the gss_cat data-set provided by R package forcats. How many rows of data are there? How many columns? What questions occur to you about the data? How might you address those questions? Take 15 minutes to prepare to report out to the class.\n\n```{r gss_cat}\n# make your own copy of the survey data \ngss_cat <- forcats::gss_cat\n\n```\n\n## Discussion: what should EDA mean?\n\nExploratory Data Analysis (EDA) is an approach to data analysis advocated by [John Tukey](https://en.wikipedia.org/wiki/John_Tukey), a leading American statistician of the 20th century. The approach contrasts with what Tukey called \"confirmatory analysis\", that is, a focus on probability models of data-generation along with the estimation or testing of model parameters. The difference is one of emphasis: EDA includes models suggested by data, but always with an emphasis on understanding current and potential data sets.\n\nThe exploration is led by one's questions about the data. Relevant questions may or may not be obvious (or given). Variables may or may not be readily categorized as \"response variables\" versus \"predictor variables\". The ability to develop and recognize relevant questions is an important skill largely gained through experience.\n\nImportant EDA outcomes include the discovery of departures from prevailing assumptions, and proposals for new experiments or observations in order to examine tentative answers suggested by the current data.\n\nEDA methods are used within the context of confirmatory analysis to examine the data for errors not encompassed by the models under study (e.g., errors in data transcription or transmission), or to search for other departures from model assumptions.\n\nEDA methods can be broadly understood as the methods of descriptive statistics: data summaries (graphical or tabular) intended to enhance our understanding of the data. EDA differs from descriptive statistics in a reliance on the questions of the data analyst and a readiness to examine various transformations of the data.\n\nAs an example, here are some ways we might address the question of how, if at all, the heights of fathers and sons differ in the data presented above.\n\n```{r height_per_fs}\n# render \"father\" and \"son\" as levels of factor \"fs\"\nheight_per_fs <- father_son_ht |> \n  # continue to identify father-son pairs\n  mutate(idx = 1:nrow(father_son_ht)) |>\n  dplyr::select(idx, father, son) |> \n  pivot_longer(\n    cols = c(father, son), \n    names_to = \"fs\", \n    values_to = \"height\"\n  )\n```\n\n```{r g_ht_per_fs}\ng_ht_per_fs <- height_per_fs |> \n  ggplot(mapping = aes(x = fs |> as_factor(), y = height)) + \n  geom_boxplot()\ng_ht_per_fs\n```\n\n```{r ht_per_fs__summarise}\nheight_per_fs |> dplyr::select(fs, height) |>\n  group_by(fs) |> \n  summarise(\n    min = min(height), \n    mid = median(height), \n    avg = mean(height), \n    max = max(height)\n  )\n\n```\n\nThe box-plot and table above show that, on average, sons are about an inch taller than fathers. Here's a histogram of the difference in heights (son minus father) across father-son pairs.\n\n```{r s_minus_f}\nfather_son_ht <- father_son_ht |> \n  mutate(s_minus_f = son - father)\n```\n\n```{r s_minus_f__hist}\ng_s_minus_f <- father_son_ht |> \n  ggplot(mapping = aes(x = s_minus_f)) + \n  geom_histogram()\ng_s_minus_f\n```\n\n```{r s_minus_f__smy}\nfather_son_ht$s_minus_f |> summary()\n```\n\nThe summary of individual differences in height (son minus father) strengthens the previous aggregate summaries: the distribution of son's height minus father's height is fairly symmetric around a difference of about one inch.\n\n## Team Exercises\n\n1.  Response versus predictor variables: for each of the data sets presented above, propose one or more variables as response variables. How, if at all, might someone else argue for a different choice? What should we mean by \"response\" and \"predictor\" variables? Describe a situation in which this distinction would not be suitable.\n\n2.  Diamond data: propose a question for the diamond data, and then try to address that question. What (if anything) did you learn from this task?\n\n3.  Survey data: propose a question for the gss_cat data, and then try to address that question. What (if anything) did you learn from this task?\n\n## Resources\n\n[simpleR](https://github.com/buruzaemon/simpleR) Using R for Introductory Statistics.\\\nBy [John Verzani](https://www.math.csi.cuny.edu/~verzani/) Department of Mathematics at CSI\n\n[R for Data Science (2e)](https://r4ds.hadley.nz/), by [Hadley Wickham](https://hadley.nz/)\n\nRPubs - [Diamonds Dataset](https://rpubs.com/Davo2812/1102821)\n\nNORC's General Social Survey ([GSS](https://gss.norc.org/us/en/gss/about-the-gss.html))\n\n[EDA](https://en.wikipedia.org/wiki/Exploratory_data_analysis): Exploratory data analysis - Wikipedia\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":{"html_document":{"toc":true,"df_print":"paged","mathjax":"default"},"word_document":{"toc":true,"df_print":"tibble"},"pdf_document":{"toc":true,"df_print":"tibble"}},"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"eda_4350.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","editor":"visual","title":"Exploratory Data Analysis","subtitle":"Part 1 of Data Mining Intro","author":[{"name":"Send comments to: Tony T (tthral)"}],"date":"`r format(Sys.time(), '%Y-%m-%d %H:%M', usetz = TRUE)`","abstract":"Review concepts and techniques of exploratory data analysis."},"extensions":{"book":{"multiFile":true}}}},"projectFormats":[]}